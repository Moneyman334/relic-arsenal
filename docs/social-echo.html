<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Echo Layer - ChaosKey333 Relic Arsenal</title>
    <meta name="description" content="Transform every relic into a cosmic storm across social realms with the Social Echo Layer">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ö°</text></svg>">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Social Echo Layer - ChaosKey333 Relic Arsenal">
    <meta property="og:description" content="Unleash the power of relics across social realms">
    <meta property="og:type" content="website">
    <meta property="og:image" content="./assets/banners/quantum-dawn-master.png">
    <meta property="og:url" content="https://moneyman334.github.io/relic-arsenal/docs/social-echo.html">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Social Echo Layer - ChaosKey333 Relic Arsenal">
    <meta name="twitter:description" content="Transform relics into cosmic storms across social realms">
    <meta name="twitter:image" content="./assets/banners/quantum-dawn-master.png">
    
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background: #000;
        }
        
        /* Loading screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0a2a 30%, #2a1a3a 70%, #0a0a0a 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-logo {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: pulseGlow 2s ease-in-out infinite alternate;
        }
        
        .loading-text {
            font-family: 'Space Mono', monospace;
            color: #8a2be2;
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(138, 43, 226, 0.3);
            border-top: 3px solid #8a2be2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes pulseGlow {
            from { 
                text-shadow: 0 0 20px rgba(138, 43, 226, 0.5);
                filter: drop-shadow(0 0 20px rgba(138, 43, 226, 0.3));
            }
            to { 
                text-shadow: 0 0 40px rgba(138, 43, 226, 0.8);
                filter: drop-shadow(0 0 30px rgba(138, 43, 226, 0.6));
            }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Navigation */
        .cosmic-nav {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(26, 10, 42, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(138, 43, 226, 0.3);
            border-radius: 25px;
            padding: 10px 20px;
        }
        
        .nav-link {
            color: #8a2be2;
            text-decoration: none;
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: #ffffff;
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.8);
        }
        
        /* Footer */
        .cosmic-footer {
            background: rgba(10, 10, 10, 0.9);
            border-top: 2px solid rgba(138, 43, 226, 0.3);
            padding: 30px 20px;
            text-align: center;
            font-family: 'Space Mono', monospace;
            color: #cccccc;
            margin-top: 50px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: #8a2be2;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .footer-links a:hover {
            color: #ffffff;
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.6);
        }
        
        .cosmic-signature {
            font-family: 'Orbitron', monospace;
            color: #8a2be2;
            font-style: italic;
            margin-top: 15px;
        }
        
        /* Error handling */
        .error-message {
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid #ff6b6b;
            border-radius: 10px;
            padding: 20px;
            margin: 20px;
            color: #ff6b6b;
            text-align: center;
            font-family: 'Space Mono', monospace;
        }
        
        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .cosmic-nav {
                position: static;
                margin: 10px;
                text-align: center;
            }
            
            .loading-logo { font-size: 3rem; }
            .loading-text { font-size: 1rem; }
            .footer-links { flex-direction: column; gap: 15px; }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-logo">‚öõÔ∏è‚ö°üëë</div>
        <div class="loading-text">Initializing Social Echo Layer...</div>
        <div class="loading-spinner"></div>
    </div>

    <!-- Navigation -->
    <nav class="cosmic-nav">
        <a href="../index.html" class="nav-link">‚Üê Back to Arsenal</a>
    </nav>

    <!-- Main Content (will be populated by JavaScript) -->
    <main id="main-content">
        <!-- Social Echo UI will be injected here -->
    </main>

    <!-- Footer -->
    <footer class="cosmic-footer">
        <div class="footer-links">
            <a href="../gallery/index.md">üñºÔ∏è Gallery</a>
            <a href="../cosmic-scripture.md">üìú Cosmic Scripture</a>
            <a href="../../release-scrolls/">üìã Release Scrolls</a>
            <a href="../../README.md">üè† Main Vault</a>
        </div>
        <div class="cosmic-signature">
            "Through quantum tempests, we forge eternity. In rolling thunder, we crown the dawn."
        </div>
        <div style="margin-top: 10px; font-size: 0.9rem;">
            ‚öõÔ∏è‚ö°üëë ChaosKey333 Relic Arsenal - Social Echo Layer üëë‚ö°‚öõÔ∏è
        </div>
    </footer>

    <!-- Core Scripts -->
    <script src="./js/collector-archive.js"></script>
    <script src="./js/social-echo.js"></script>
    <script src="./js/social-echo-ui.js"></script>

    <script>
        // Enhanced initialization and error handling
        document.addEventListener('DOMContentLoaded', function() {
            const loadingScreen = document.getElementById('loading-screen');
            let loadingTimeout;
            
            // Set a maximum loading time
            loadingTimeout = setTimeout(() => {
                showError('Loading timeout - please refresh the page');
                hideLoading();
            }, 10000);

            // Check if all dependencies are loaded
            function checkDependencies() {
                return window.SocialEchoLayer && 
                       window.CollectorArchive && 
                       window.collectorArchive && 
                       window.SocialEchoUI;
            }

            // Initialize the application
            function initializeApp() {
                try {
                    if (checkDependencies()) {
                        clearTimeout(loadingTimeout);
                        
                        // Add a small delay for smooth transition
                        setTimeout(() => {
                            hideLoading();
                            
                            // Initialize the Social Echo UI
                            const ui = new window.SocialEchoUI();
                            
                            // Log successful initialization
                            console.log('üåå Social Echo Layer initialized successfully');
                            console.log('‚ö° Ready to generate cosmic snapshots');
                            
                        }, 500);
                    } else {
                        // Retry after a short delay
                        setTimeout(initializeApp, 100);
                    }
                } catch (error) {
                    console.error('Initialization error:', error);
                    showError(`Initialization failed: ${error.message}`);
                    hideLoading();
                }
            }

            // Hide loading screen
            function hideLoading() {
                loadingScreen.classList.add('hidden');
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 500);
            }

            // Show error message
            function showError(message) {
                const mainContent = document.getElementById('main-content');
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-message';
                errorDiv.innerHTML = `
                    <h3>‚ö†Ô∏è Cosmic Disturbance Detected</h3>
                    <p>${message}</p>
                    <p><small>The vault's quantum stabilizers are recalibrating. Please try refreshing the portal.</small></p>
                `;
                mainContent.appendChild(errorDiv);
            }

            // Handle uncaught errors
            window.addEventListener('error', function(event) {
                console.error('Uncaught error:', event.error);
                showError('Quantum instability detected in the cosmic matrix');
            });

            // Start initialization
            initializeApp();
        });

        // Add visual feedback for user interactions
        document.addEventListener('click', function(event) {
            // Add ripple effect to buttons
            if (event.target.tagName === 'BUTTON') {
                const button = event.target;
                const ripple = document.createElement('span');
                const rect = button.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = event.clientX - rect.left - size / 2;
                const y = event.clientY - rect.top - size / 2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.classList.add('ripple');
                
                button.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            }
        });

        // Add cosmic particle effects on mouse movement
        let particleTimeout;
        document.addEventListener('mousemove', function(event) {
            clearTimeout(particleTimeout);
            particleTimeout = setTimeout(() => {
                createCosmicParticle(event.clientX, event.clientY);
            }, 100);
        });

        function createCosmicParticle(x, y) {
            const particle = document.createElement('div');
            particle.style.position = 'fixed';
            particle.style.left = x + 'px';
            particle.style.top = y + 'px';
            particle.style.width = '4px';
            particle.style.height = '4px';
            particle.style.background = 'rgba(138, 43, 226, 0.6)';
            particle.style.borderRadius = '50%';
            particle.style.pointerEvents = 'none';
            particle.style.zIndex = '9999';
            particle.style.animation = 'fadeOut 1s ease-out forwards';
            
            document.body.appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 1000);
        }

        // Add CSS for ripple and fade effects
        const dynamicStyles = document.createElement('style');
        dynamicStyles.textContent = `
            .ripple {
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.3);
                transform: scale(0);
                animation: rippleEffect 0.6s linear;
                pointer-events: none;
            }
            
            @keyframes rippleEffect {
                to {
                    transform: scale(2);
                    opacity: 0;
                }
            }
            
            @keyframes fadeOut {
                0% {
                    opacity: 1;
                    transform: translateY(0);
                }
                100% {
                    opacity: 0;
                    transform: translateY(-20px);
                }
            }
        `;
        document.head.appendChild(dynamicStyles);
    </script>
</body>
</html>